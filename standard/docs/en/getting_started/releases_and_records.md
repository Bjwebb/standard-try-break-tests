## Releases and Records

OCDS is designed around two important user needs:

1. The user who wants to follow the latest developments in a contracting process, getting real-time notification of tenders, awards and updates. 

2. The user who wants to understand the current state, and the history, of one or more contracting processes. 

The first need is met by producing OCDS **releases**. The second, by publishing compiled OCDS **records**. 

### Releases

Releases should be immutable documents, presenting information about a particular event in the lifetime of a contracting process. 

Each release must contain an OCID, a unique release ID, a release tag, and as much information as can be provided for users to understand the event taking place.

For example: 

* A ```planning``` release may provide information in the planning section about budgets and procurement intention, and the tender section about the proposed details for a future tender;
* A ```tender``` release may provide information in the tender section about how to bid for the work, and may repeat ```planning``` information on the budget or project the tender is associated with;
* A ```tenderUpdate``` release may provide an updated tender section with links to documents that answer questions asked during the enquiry period;
* An ```award``` release may provide details of the supplier awarded the contract in the award section, and may provide repeated information about the how procurement took place in the tender section;
* A ```contract``` release may provide the details of the signed contract in a contract section, matched with a related award section;
* An ```implementationUpdate``` release may repeat details of the contract, and provide information on milestones achieved and payments to the supplier, or may update the contract implementation section with links to newly published documents. 

You can think of **releases** as entries into a ledger: each new entry adds information, and may also repeat the previous information that remains true. The **record** brings together a snapshot of the latest state of all the information.

#### Examples


```eval_rst

.. jsoninclude:: docs/en/examples/planning.json
   :jsonpointer: /releases
   :expand: releases, planning, tag, documents

```

```eval_rst

.. jsoninclude:: docs/en/examples/tender.json
   :jsonpointer: /releases
   :expand: releases, tender, items, tag, documents

```

```eval_rst

.. jsoninclude:: docs/en/examples/tenderUpdate.json
   :jsonpointer: /releases
   :expand: releases, tender, tag, documents

```


```eval_rst

.. jsoninclude:: docs/en/examples/award.json
   :jsonpointer: /releases
   :expand: releases, awards, value, suppliers, items, contractPeriod, tag, documents

```

```eval_rst

.. jsoninclude:: docs/en/examples/contract.json
   :jsonpointer: /releases
   :expand: releases, contracts, period, value, items, tag, documents

```


```eval_rst

.. jsoninclude:: docs/en/examples/implementation.json
   :jsonpointer: /releases
   :expand: releases, contracts, implementation, transactions, tag, documents

```

#### Best practices

In some cases, releases will all come from the same backend system. In others, they will be generated by different systems. By ensuring all releases about a contracting process share an OCID, they can be tied together into a record. 

In a complete OCDS implementation, each release would be published at its own persistent URL, and kept online permanently. 

In these cases, where publishers are providing a single URI for fetching information on a given contracting process, the releaseID and releaseDate must be modified whenever updated data is published. A suggested pattern is to append an incrementing number to the end of the OCID in order to generate a unique releaseID for every change. For example:

* ocds-a2ef3d01-1594121/1
* ocds-a2ef3d01-1594121/2
* ocds-a2ef3d01-1594121/3


### Records

An OCDS **record** provides a snapshot of the contracting process at a given point in time, bringing together all the information from the releases to date into one place. It is updated as new information becomes available.

At a minimum, a record should exist for each contracting process to provide a list of all the releases that relate to that contracting process.

However, to allow users to get a snapshot view the contracting process without individually looking up each release , a record should also contain:

* a compiledRelease block, which follows the release schema, and is updated with the most up-to-date value for each field; and, optionally,
* a versionedRelease, which contains a history of all the changes for each field.

The OCDS merge strategies (TODO - LINK) set out how to combine multiple releases to create a single record for each contracting process. 

#### Examples

TODO

<center><img src="../../../assets/release_square.png" height="200"/></center>




<style>
    pre.renderjson { overflow: scroll; font-size:smaller; border: 1px solid grey;}
    .renderjson a { text-decoration: none; }
    .renderjson .disclosure { color: crimson; font-size: 150%; }
    .renderjson .syntax { color: grey; }
    .renderjson .string { color: darkred; }
    .renderjson .number { color: darkcyan; }
    .renderjson .boolean { color: blueviolet; }
    .renderjson .key    { color: darkblue; }
    .renderjson .keyword { color: blue; }
    .renderjson .object.syntax { color: lightseagreen; }
    .renderjson .array.syntax  { color: orange; }
  </style>
  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script type="text/javascript" defer><!--
  var module;(module||{}).exports=renderjson=function(){function n(i,c,f,y,_,d){var p=f?"":c,g=function(n,o,i,c,f){var _,d=a(c),g=function(){_||e(d.parentNode,_=r(f(),u(l.hide,"disclosure",function(){_.style.display="none",d.style.display="inline"}))),_.style.display="inline",d.style.display="none"};e(d,u(l.show,"disclosure",g),t(c+" syntax",n),u(o,null,g),t(c+" syntax",i));var h=e(a(),s(p.slice(0,-1)),d);return y>0&&g(),h};return null===i?t(null,p,"keyword","null"):void 0===i?t(null,p,"keyword","undefined"):"string"==typeof i&&i.length>_?g('"',i.substr(0,_)+" ...",'"',"string",function(){return e(a("string"),t(null,p,"string",JSON.stringify(i)))}):"object"!=typeof i?t(null,p,typeof i,JSON.stringify(i)):i.constructor==Array?0==i.length?t(null,p,"array syntax","[]"):g("["," ... ","]","array",function(){for(var r=e(a("array"),t("array syntax","[",null,"\n")),o=0;o<i.length;o++)e(r,n(i[o],c+"    ",!1,y-1,_,d),o!=i.length-1?t("syntax",","):[],s("\n"));return e(r,t(null,c,"array syntax","]")),r}):o(i)?t(null,p,"object syntax","{}"):g("{","...","}","object",function(){var r=e(a("object"),t("object syntax","{",null,"\n"));for(var o in i)var u=o;var f=Object.keys(i);d&&(f=f.sort());for(var p in f){var o=f[p];e(r,t(null,c+"    ","key",'"'+o+'"',"object syntax",": "),n(i[o],c+"    ",!0,l.default_open.indexOf(o)>-1?y+1:y-1,_,d),o!=u?t("syntax",","):[],s("\n"))}return e(r,t(null,c,"object syntax","}")),r})}var t=function(){for(var n=[];arguments.length;)n.push(e(a(Array.prototype.shift.call(arguments)),s(Array.prototype.shift.call(arguments))));return n},e=function(){for(var n=Array.prototype.shift.call(arguments),t=0;t<arguments.length;t++)arguments[t].constructor==Array?e.apply(this,[n].concat(arguments[t])):n.appendChild(arguments[t]);return n},r=function(n,t){return n.insertBefore(t,n.firstChild),n},o=function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},s=function(n){return document.createTextNode(n)},a=function(n){var t=document.createElement("span");return n&&(t.className=n),t},u=function(n,t,e){var r=document.createElement("a");return t&&(r.className=t),r.appendChild(s(n)),r.href="#",r.onclick=function(){return e(),!1},r},l=function i(t){var r=e(document.createElement("pre"),n(t,"",!1,i.show_to_level,i.max_string_length,i.sort_objects));return r.className="renderjson",r};return l.set_icons=function(n,t){return l.show=n,l.hide=t,l},l.set_show_to_level=function(n){return l.show_to_level="string"==typeof n&&"all"===n.toLowerCase()?Number.MAX_VALUE:n,l},l.set_max_string_length=function(n){return l.max_string_length="string"==typeof n&&"none"===n.toLowerCase()?Number.MAX_VALUE:n,l},l.set_sort_objects=function(n){return l.sort_objects=n,l},l.set_show_by_default=function(n){return l.show_to_level=n?Number.MAX_VALUE:0,l},l.set_default_open=function(n){return l.default_open=n?n:[],l},l.set_icons("⊕","⊖"),l.set_show_by_default(!1),l.set_sort_objects(!1),l.set_max_string_length("none"),l.set_default_open([]),l}();
  $( document ).ready(function() {
      $(".highlight-json").each(function(){
       classList = $(this).attr("class").split(/\s+/);
       expand = []
       $.each(classList, function(index, item) {
         if (item.indexOf('expand') === 0) {
           expand.push(item.replace('expand-',''))
         }
         if (item.indexOf('file') === 0) {
           filename = item
         }
       });
       $(this).html(renderjson.set_show_to_level(1).set_max_string_length(100).set_default_open(expand)(eval($(this).text())[0]))
       if($(this).siblings(".selection-container").length === 0) { // NEED TO FIX THE CODE HERE. MOVE THINGS INTO THE PARENT CLASS CORRECTLY!
           id = Math.floor(5 * (Math.random() % 1));
           $(this).wrap("<div class='selection-container'></div>")
           $(this).parent().prepend(
               $("<select name='select-"+id +"'></select>")
               .change(function(){ 
                    $(this).siblings(".highlight-json").hide();
                    $(this).siblings("."+ $(this).val()).show();
                }))
           $(this).siblings("select").append($("<option></option>").attr("value",filename).text(filename.replace("file-",""))) 
       } else {   
           container = $(this).siblings(".selection-container")
           $(this).detach().appendTo(container)
           $(this).siblings("select").append($("<option></option>").attr("value",filename).text(filename.replace("file-",""))) 
           $(this).hide()
       }
    });
});
--></script>
  
  

